{"version":3,"file":"static/js/242.3f1718e0.chunk.js","mappings":"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","sources":["components/SearchMovie/SearchMovieStyle.styled.js","components/SearchMovie/SearchMovie.jsx","components/MovieListByName/MovieListStyle.styled.js","components/MovieListByName/MovieListByName.jsx","components/pages/Movies.jsx","components/services/moviedb.js"],"sourcesContent":["import { styled } from 'styled-components';\n\nexport const SearchMovieStyle = styled.form`\n  padding-top: 140px;\n  display: flex;\n  justify-content: center;\n  column-gap: 20px;\n`;\n","import { useState } from 'react';\nimport { SearchMovieStyle } from './SearchMovieStyle.styled';\nimport PropTypes from 'prop-types';\n\nconst SearchMovie = ({ setSearchText }) => {\n  const [inputValue, setInputValue] = useState('');\n\n  const handlerChange = ({ target: { value } }) => {\n    setInputValue(value);\n  };\n\n  const handlerSubmit = e => {\n    e.preventDefault();\n    if (inputValue.trim()) {\n      setSearchText(inputValue.trim().toLowerCase());\n      setInputValue('');\n    } else {\n      return alert('Please, write anything');\n    }\n  };\n\n  return (\n    <SearchMovieStyle onSubmit={handlerSubmit}>\n      <input onChange={handlerChange} value={inputValue} />\n      <button type=\"submit\">Search</button>\n    </SearchMovieStyle>\n  );\n};\n\nexport default SearchMovie;\n\nSearchMovie.propTypes = {\n  setSearchText: PropTypes.func.isRequired,\n};\n","import { styled } from 'styled-components';\n\nexport const MovieListStyle = styled.ul`\n  list-style: none;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport { MovieListStyle } from './MovieListStyle.styled';\nimport PropTypes from 'prop-types';\n\nconst MovieListByName = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <MovieListStyle>\n      {movies.map(movie => (\n        <li key={movie.id}>\n          <Link\n            to={`/movies/${movie.id}`}\n            state={`${location.pathname}${location.search}`}\n          >\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </MovieListStyle>\n  );\n};\n\nexport default MovieListByName;\n\nMovieListByName.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      id: PropTypes.number.isRequired,\n    })\n  ).isRequired,\n};\n","import SearchMovie from 'components/SearchMovie/SearchMovie';\nimport MovieListByName from 'components/MovieListByName/MovieListByName';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByName } from 'components/services/moviedb';\n\nconst Movies = () => {\n  const [movieList, setMovieList] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const [error, setError] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    if (searchParams.get('query')) {\n      setSearchText(searchParams.get('query'));\n    }\n  }, [searchParams]);\n\n  useEffect(() => {\n    if (!searchText) {\n      return;\n    }\n\n    setError('');\n    fetchMovieByName(searchText)\n      .then(resp => {\n        if (!resp.ok) {\n          setError('Sorry, something wrong');\n          throw new Error();\n        }\n        return resp.json();\n      })\n      .then(data => {\n        if (data.results.length === 0) {\n          setError('Sorry, nothink');\n          throw new Error();\n        }\n\n        setMovieList(\n          data.results.map(film => ({ title: film.title, id: film.id }))\n        );\n      })\n      .catch(err => console.log(err));\n    setSearchParams({ query: searchText });\n  }, [searchText, setSearchParams]);\n\n  return (\n    <>\n      <SearchMovie setSearchText={setSearchText} />\n\n      {error && <h3>{error}</h3>}\n      {!error && movieList.length > 0 && <MovieListByName movies={movieList} />}\n    </>\n  );\n};\n\nexport default Movies;\n","const API_KEY = '1f49b40244739c7e3b1b706c1c1ec0d7';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = () => {\n  return fetch(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const fetchMovieByName = value => {\n  return fetch(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${value}`);\n};\n\nexport const fetchMovieById = id => {\n  return fetch(`${BASE_URL}movie/${id}?api_key=${API_KEY}`);\n};\n\nexport const fetchForActors = id => {\n  return fetch(`${BASE_URL}movie/${id}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchToReviews = id => {\n  return fetch(`${BASE_URL}movie/${id}/reviews?api_key=${API_KEY}`);\n};\n"],"names":["SearchMovieStyle","styled","_templateObject","_taggedTemplateLiteral","_ref","setSearchText","_useState","useState","_useState2","_slicedToArray","inputValue","setInputValue","_jsxs","onSubmit","e","preventDefault","trim","alert","toLowerCase","children","_jsx","onChange","_ref2","value","target","type","MovieListStyle","movies","location","useLocation","map","movie","Link","to","concat","id","state","pathname","search","title","movieList","setMovieList","_useState3","_useState4","searchText","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","useEffect","get","fetchMovieByName","then","resp","ok","Error","json","data","results","length","film","catch","err","console","log","query","_Fragment","SearchMovie","MovieListByName","API_KEY","BASE_URL","fetchTrendingMovies","fetch","fetchMovieById","fetchForActors","fetchToReviews"],"sourceRoot":""}