"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[667],{667:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r,c,i,o=t(439),a=t(689),s=t(87),u=t(791),d=t(152),h=t(168),l=t(867),p=l.zo.div(r||(r=(0,h.Z)(["\n  display: flex;\n  align-items: start;\n  column-gap: 20px;\n  margin-top: 20px;\n"]))),f=l.zo.div(c||(c=(0,h.Z)(["\n  padding-top: 140px;\n  ul {\n    list-style: none;\n  }\n"]))),x=l.zo.ul(i||(i=(0,h.Z)(["\n  box-shadow: 0px 2px 1px rgba(46, 47, 66, 0.08),\n    0px 1px 1px rgba(46, 47, 66, 0.16), 0px 1px 6px rgba(46, 47, 66, 0.08);\n  padding-top: 15px;\n  padding-bottom: 15px;\n"]))),v=t(184),m=function(){var n,e=(0,a.UO)(),t=(0,u.useState)(null),r=(0,o.Z)(t,2),c=r[0],i=r[1],h=(0,a.TH)(),l=(0,u.useState)(""),m=(0,o.Z)(l,2),j=m[0],g=m[1],w=(0,u.useState)(""),b=(0,o.Z)(w,2),k=b[0],y=b[1];return(0,u.useEffect)((function(){h.pathname.includes("cast")||h.pathname.includes("reviews")||g(h.state)}),[h]),(0,u.useEffect)((function(){y(""),(0,d.Mc)(e.movieId).then((function(n){if(!n.ok)throw y("Sorry, something wrong"),new Error;return n.json()})).then((function(n){if(0===Object.keys(n).length)throw y("Sorry, we don't know this film "),new Error;return i(n)})).catch((function(n){return console.log(n)}))}),[e.id,e.movieId]),(0,v.jsxs)(f,{children:[(0,v.jsx)(s.rU,{to:k?"/":j,children:"Go back"}),k&&(0,v.jsx)("h3",{children:k}),c&&(0,v.jsxs)(p,{children:[(0,v.jsx)("img",{src:"https://image.tmdb.org/t/p/w400/".concat(c.poster_path),alt:c.title}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("h2",{children:[c.title," (",Number.parseInt(c.release_date),")"]}),(0,v.jsxs)("p",{children:["User score: ",Math.round(10*c.vote_average),"%"]}),(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:c.overview}),(0,v.jsx)("h4",{children:"Genres"}),(0,v.jsx)("p",{children:null===(n=c.genres)||void 0===n?void 0:n.map((function(n){return n.name})).join(", ")})]}),(0,v.jsx)("div",{})]}),!k&&(0,v.jsxs)(x,{children:[(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{to:"cast",children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(s.rU,{to:"reviews",children:"Reviews"})})]}),(0,v.jsx)(a.j3,{})]})}},152:function(n,e,t){t.d(e,{E3:function(){return o},Mc:function(){return a},SU:function(){return u},ZR:function(){return s},wr:function(){return i}});var r="1f49b40244739c7e3b1b706c1c1ec0d7",c="https://api.themoviedb.org/3/",i=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r))},o=function(n){return fetch("".concat(c,"search/movie?api_key=").concat(r,"&query=").concat(n))},a=function(n){return fetch("".concat(c,"movie/").concat(n,"?api_key=").concat(r))},s=function(n){return fetch("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(r))},u=function(n){return fetch("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(r))}}}]);
//# sourceMappingURL=667.e55fc608.chunk.js.map